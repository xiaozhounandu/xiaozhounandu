# ğŸ§ª å®¢æˆ·ç®¡ç†ç³»ç»Ÿ V2.0 - è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶

## ğŸ“‹ æ¦‚è¿°

æœ¬æµ‹è¯•æ¡†æ¶ä¸º å®¢æˆ·ç®¡ç†ç³»ç»Ÿ V2.0 æä¾›å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•ã€‚

### æµ‹è¯•è¦†ç›–èŒƒå›´
- âœ… **è®¤è¯æ¨¡å—** - ç™»å½•ã€æ³¨å†Œã€æƒé™éªŒè¯
- âœ… **å®¢æˆ·ç®¡ç†** - CRUDæ“ä½œã€æœç´¢ã€åˆ†é¡µ
- âœ… **è·Ÿè¿›è®°å½•** - è·Ÿè¿›è®°å½•ç®¡ç†ã€ç­›é€‰
- âœ… **ç»Ÿè®¡ä¸æ—¥å¿—** - ä»ªè¡¨ç›˜ã€æ“ä½œæ—¥å¿—ã€æƒé™æ§åˆ¶
- âœ… **å®Œæ•´æµç¨‹** - ä»ç™»å½•åˆ°å®¢æˆ·ç®¡ç†çš„å®Œæ•´å·¥ä½œæµ

---

## ğŸ—ï¸ ç›®å½•ç»“æ„

```
test/
â”œâ”€â”€ README.md              # æœ¬è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ setup.sh              # ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ run_tests.sh          # å¿«é€Ÿæµ‹è¯•è„šæœ¬ (3ä¸ªæ ¸å¿ƒæ¨¡å—)
â”œâ”€â”€ run_all.sh            # å®Œæ•´æµ‹è¯•å¥—ä»¶ (5ä¸ªæ¨¡å— + è¯¦ç»†æŠ¥å‘Š)
â””â”€â”€ backend/
    â”œâ”€â”€ __init__.py       # PythonåŒ…æ ‡è¯†
    â”œâ”€â”€ client.py         # HTTP å®¢æˆ·ç«¯å°è£…
    â”œâ”€â”€ config.py         # æµ‹è¯•é…ç½®å’Œå¸¸é‡
    â”œâ”€â”€ utils.py          # å·¥å…·å‡½æ•°ï¼ˆéªŒè¯ã€æ ¼å¼åŒ–ã€æ•°æ®ç”Ÿæˆï¼‰
    â”œâ”€â”€ test_auth.py      # è®¤è¯æµ‹è¯• (5ä¸ªæµ‹è¯•ç”¨ä¾‹)
    â”œâ”€â”€ test_customer.py  # å®¢æˆ·ç®¡ç†æµ‹è¯• (7ä¸ªæµ‹è¯•ç”¨ä¾‹)
    â”œâ”€â”€ test_followup.py  # è·Ÿè¿›è®°å½•æµ‹è¯• (6ä¸ªæµ‹è¯•ç”¨ä¾‹)
    â”œâ”€â”€ test_stats_logs.py # ç»Ÿè®¡æ—¥å¿—æµ‹è¯• (6ä¸ªæµ‹è¯•ç”¨ä¾‹)
    â””â”€â”€ test_complete_flow.py # å®Œæ•´æµç¨‹æµ‹è¯• (ç«¯åˆ°ç«¯)
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶
1. âœ… Python 3.8+ å·²å®‰è£…
2. âœ… MySQL æ•°æ®åº“å·²åˆ›å»ºå¹¶è¿è¡Œ
3. âœ… åç«¯ Spring Boot æœåŠ¡å·²ç¼–è¯‘

### æ­¥éª¤ 1: è‡ªåŠ¨åŒ–ç¯å¢ƒè®¾ç½®

```bash
cd /Users/weizhijie/Desktop/xiaozhounandu-main/test
./setup.sh
```

**setup.sh æ‰§è¡Œå†…å®¹ï¼š**
```
[1/4] å®‰è£… Python ä¾èµ–...      â† å®‰è£… requests åº“
[2/4] åˆ›å»ºç›®å½•ç»“æ„...          â† backend, data/reports ç­‰
[3/4] æ£€æŸ¥åç«¯æœåŠ¡å™¨...        â† éªŒè¯ http://localhost:8080 çŠ¶æ€
[4/4] éªŒè¯æµ‹è¯•è„šæœ¬...          â† æ£€æŸ¥å…³é”®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```

### æ­¥éª¤ 2: å¯åŠ¨åç«¯æœåŠ¡

**åœ¨IDEä¸­å¯åŠ¨ï¼š**
```
æ‰“å¼€: XiaozhounanduApplication.java
è¿è¡Œ: Run As â†’ Java Application
ç­‰å¾…: å‡ºç° "Started XiaozhounanduApplication"
```

**å‘½ä»¤è¡Œå¯åŠ¨ï¼ˆå¦‚å·²ç¼–è¯‘ï¼‰ï¼š**
```bash
cd /Users/weizhijie/Desktop/xiaozhounandu-main
mvn spring-boot:run
```

**éªŒè¯æœåŠ¡å¯åŠ¨ï¼š**
```bash
curl http://localhost:8080/api/init/status
# é¢„æœŸå“åº”: {"status":"æœåŠ¡æ­£å¸¸è¿è¡Œ","timestamp":"..."}

# æˆ–è€…æ£€æŸ¥æ—¥å¿—ä¸­åŒ…å«:
# HikariPool-1 - Start completed
```

### æ­¥éª¤ 3: è¿è¡Œæµ‹è¯•

#### æ–¹å¼ 1: å¿«é€Ÿæµ‹è¯• (æ¨èé¦–æ¬¡ä½¿ç”¨)
è¿è¡Œæ ¸å¿ƒ3ä¸ªæ¨¡å—ï¼Œå¿«é€ŸéªŒè¯ç³»ç»Ÿå¥åº·åº¦ï¼š
```bash
cd test
./run_tests.sh
```

**æ‰§è¡Œå†…å®¹ï¼š**
- âœ… è®¤è¯æ¨¡å—æµ‹è¯•
- âœ… å®¢æˆ·ç®¡ç†æµ‹è¯•
- âœ… å®Œæ•´æµç¨‹æµ‹è¯•

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
============================================================
ğŸš€ å®¢æˆ·ç®¡ç†ç³»ç»Ÿ V2.0 - è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
============================================================

æ­¥éª¤1: æ£€æŸ¥Pythonç¯å¢ƒ...
âœ… Python 3.9.7

æ­¥éª¤2: æ£€æŸ¥Pythonä¾èµ–...
âœ… requests å·²å®‰è£…

æ­¥éª¤3: æ£€æŸ¥åç«¯æœåŠ¡å™¨...
âœ… åç«¯æœåŠ¡å™¨è¿è¡Œæ­£å¸¸

æ­¥éª¤4: å‡†å¤‡æµ‹è¯•ç¯å¢ƒ...
âœ… æŠ¥å‘Šç›®å½•å·²å‡†å¤‡

============================================================
     å¼€å§‹æ‰§è¡Œæµ‹è¯•
============================================================

=== è®¤è¯æ¨¡å—æµ‹è¯• ===
âœ… PASS - ç™»å½•æµ‹è¯•
âœ… PASS - æ³¨å†Œæµ‹è¯•
âœ… PASS - æƒé™éªŒè¯æµ‹è¯•
âœ… PASS - ç™»å‡ºæµ‹è¯•
âœ… PASS - æœªç™»å½•è®¿é—®æ‹’ç»

æ€»ç»“: 5/5 é€šè¿‡

=== å®¢æˆ·ç®¡ç†æµ‹è¯• ===
âœ… PASS - åˆ›å»ºå®¢æˆ·
âœ… PASS - æŸ¥è¯¢åˆ—è¡¨
âœ… PASS - å®¢æˆ·è¯¦æƒ…
âœ… PASS - æ›´æ–°ä¿¡æ¯
âœ… PASS - æœç´¢åŠŸèƒ½
âœ… PASS - åˆ†é¡µåŠŸèƒ½
âœ… PASS - åˆ é™¤å®¢æˆ·

æ€»ç»“: 7/7 é€šè¿‡

=== å®Œæ•´æµç¨‹æµ‹è¯• ===
âœ… PASS - ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹

æ€»ç»“: 1/1 é€šè¿‡

============================================================
     æµ‹è¯•æ‰§è¡Œå®Œæˆ
============================================================

ğŸ“Š æµ‹è¯•æ—¥å¿—: data/reports/test_run_20251218_143022.log

æµ‹è¯•æ€»è®¡: 13 | é€šè¿‡: 13 | å¤±è´¥: 0 | æˆåŠŸç‡: 100.0%
ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼
```

#### æ–¹å¼ 2: å®Œæ•´æµ‹è¯•å¥—ä»¶ (æ¨èå‘å¸ƒå‰ä½¿ç”¨)
è¿è¡Œå…¨éƒ¨5ä¸ªæ¨¡å—ï¼Œç”Ÿæˆè¯¦ç»†MarkdownæŠ¥å‘Šï¼š
```bash
cd test
./run_all.sh
```

**æ‰§è¡Œå†…å®¹ï¼š**
1. âœ… è®¤è¯æ¨¡å—
2. âœ… å®¢æˆ·ç®¡ç†
3. âœ… è·Ÿè¿›è®°å½•
4. âœ… ç»Ÿè®¡ä¸æ—¥å¿—
5. âœ… å®Œæ•´æµç¨‹

**ç”ŸæˆæŠ¥å‘Šï¼š**
```
test/data/reports/full_test_report_20251218_143022.md
```

**æŠ¥å‘Šæ ¼å¼ç¤ºä¾‹ï¼š**
```markdown
**æµ‹è¯•å¼€å§‹æ—¶é—´**: 2025-12-18 14:30:22

---

## æ¨¡å—: è®¤è¯æ¨¡å—
- æ€»è®¡: 5
- é€šè¿‡: 5
- å¤±è´¥: 0
- æˆåŠŸç‡: 100.0%
- çŠ¶æ€: âœ… å…¨éƒ¨é€šè¿‡

## æ¨¡å—: å®¢æˆ·ç®¡ç†
- æ€»è®¡: 7
- é€šè¿‡: 7
- å¤±è´¥: 0
- æˆåŠŸç‡: 100.0%
- çŠ¶æ€: âœ… å…¨éƒ¨é€šè¿‡

---

## æ€»è®¡æ±‡æ€»
- æµ‹è¯•æ€»æ•°: 26
- é€šè¿‡: 26
- å¤±è´¥: 0
- æˆåŠŸç‡: 100.0%

**æµ‹è¯•ç»“æŸæ—¶é—´**: 2025-12-18 14:30:45
```

#### æ–¹å¼ 3: å•ç‹¬è¿è¡Œæ¨¡å— (è°ƒè¯•é—®é¢˜æ—¶ä½¿ç”¨)
```bash
cd test

# ä»…æµ‹è¯•è®¤è¯æ¨¡å—
python3 backend/test_auth.py

# ä»…æµ‹è¯•å®¢æˆ·ç®¡ç†
python3 backend/test_customer.py

# ä»…æµ‹è¯•è·Ÿè¿›è®°å½•
python3 backend/test_followup.py

# ä»…æµ‹è¯•ç»Ÿè®¡ä¸æ—¥å¿—
python3 backend/test_stats_logs.py

# ä»…æµ‹è¯•å®Œæ•´æµç¨‹
python3 backend/test_complete_flow.py
```

---

## ğŸ“Š æµ‹è¯•æ¡†æ¶æ ¸å¿ƒç»„ä»¶

### 1. API å®¢æˆ·ç«¯å°è£… (`client.py`)
å°è£…äº†æ‰€æœ‰APIè°ƒç”¨ï¼Œè‡ªåŠ¨å¤„ç†è®¤è¯å’Œä¼šè¯ç®¡ç†ï¼š

```python
from backend.client import APIClient, AuthClient, CustomerClient, FollowUpClient, StatsClient, LogClient

# 1. åˆ›å»ºå®¢æˆ·ç«¯
client = APIClient(base_url="http://localhost:8080")

# 2. è®¤è¯å®¢æˆ·ç«¯
auth = AuthClient(client)
resp = auth.login("admin", "admin123")
token = resp["data"]["token"]
client.set_token(token)

# 3. ä¸šåŠ¡å®¢æˆ·ç«¯
customer = CustomerClient(client)
customers = customer.list(page=1, page_size=10)

followup = FollowUpClient(client)
logs = followup.get_by_customer(customer_id)

stats = StatsClient(client)
dashboard = stats.get_dashboard()

log = LogClient(client)
operation_logs = log.get_operation_logs()
```

### 2. æµ‹è¯•å·¥å…· (`utils.py`)
æä¾›ç»Ÿä¸€çš„æµ‹è¯•éªŒè¯å’Œè¾“å‡ºæ ¼å¼ï¼š

```python
# éªŒè¯å“åº”
success, message = validate_response(response, check_data=True)

# æ‰“å°æµ‹è¯•ç»“æœ
print_test_result("æµ‹è¯•åç§°", success, message)

# ç”Ÿæˆæµ‹è¯•æ•°æ®
customer_data = generate_customer_data()
followup_data = generate_followup_data()

# æ ¼å¼åŒ–è¾“å‡º
format_table(data_list, ["åˆ—1", "åˆ—2", "åˆ—3"])

# æœåŠ¡å™¨æ£€æŸ¥
wait_for_server()  # ç­‰å¾…æœåŠ¡å™¨å°±ç»ª
```

### 3. æµ‹è¯•é…ç½® (`config.py`)
é›†ä¸­ç®¡ç†æµ‹è¯•é…ç½®å’Œå¸¸é‡ï¼š

```python
# API æœåŠ¡å™¨
BASE_URL = "http://localhost:8080"
TIMEOUT = 10

# æµ‹è¯•ç”¨æˆ·
DEFAULT_ADMIN = {"username": "admin", "password": "admin123"}
DEFAULT_USER = {"username": "user", "password": "admin123"}

# ä¸šåŠ¡è§„åˆ™
MAX_PAGE_SIZE = 100
REQUIRED_FIELDS = [...]
```

---

## ğŸ§ª äº”å¤§é‡åŒ–æµ‹è¯•åœºæ™¯è¯¦è§£

### 1. è®¤è¯æ¨¡å—æµ‹è¯• (test_auth.py)
**5ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒéªŒè¯ç”¨æˆ·èº«ä»½ç®¡ç†**

```
âœ… ç™»å½•æµ‹è¯•              - ç®¡ç†å‘˜è´¦å·ç™»å½•æˆåŠŸ
âœ… æ³¨å†Œæµ‹è¯•              - æ–°ç”¨æˆ·æ³¨å†Œæµç¨‹
âœ… æƒé™éªŒè¯æµ‹è¯•          - TokenéªŒè¯ä¸­é—´ä»¶
âœ… ç™»å‡ºæµ‹è¯•              - ä¼šè¯æ¸…ç†
âœ… æœªç™»å½•è®¿é—®æ‹’ç»        - 401/403çŠ¶æ€ç éªŒè¯
```

**å…³é”®æ£€æŸ¥ç‚¹ï¼š**
- Tokenç”Ÿæˆå’ŒæŒä¹…åŒ–
- å¯†ç åŠ å¯†éªŒè¯ (Bcrypt)
- æƒé™å±‚çº§æ§åˆ¶
- ä¼šè¯è¶…æ—¶å¤„ç†

### 2. å®¢æˆ·ç®¡ç†æµ‹è¯• (test_customer.py)
**7ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒéªŒè¯CRMæ ¸å¿ƒåŠŸèƒ½**

```
âœ… åˆ›å»ºå®¢æˆ·              - åŸºæœ¬ä¿¡æ¯å½•å…¥
âœ… æŸ¥è¯¢åˆ—è¡¨              - åˆ†é¡µæŸ¥è¯¢ (page/page_size)
âœ… å®¢æˆ·è¯¦æƒ…              - IDæŸ¥è¯¢éªŒè¯
âœ… æ›´æ–°ä¿¡æ¯              - å­—æ®µä¿®æ”¹
âœ… æœç´¢åŠŸèƒ½              - å§“åæ¨¡ç³Šæœç´¢ + ç”µè¯ç²¾ç¡®æœç´¢
âœ… åˆ†é¡µåŠŸèƒ½              - è¾¹ç•Œæ¡ä»¶(max/min pages)
âœ… åˆ é™¤å®¢æˆ·              - è½¯åˆ é™¤éªŒè¯
```

**æµ‹è¯•æ•°æ®ç¤ºä¾‹ï¼š**
```json
{
  "name": "è‡ªåŠ¨åŒ–æµ‹è¯•å®¢æˆ·",
  "phone": "13800138000",
  "company": "æµ‹è¯•ç§‘æŠ€æœ‰é™å…¬å¸",
  "industry": "è½¯ä»¶å¼€å‘",
  "level": "VIP",
  "source": "ç½‘ç»œæ¨å¹¿",
  "address": "åŒ—äº¬å¸‚æœé˜³åŒº",
  "remark": "è‡ªåŠ¨åŒ–æµ‹è¯•ç”Ÿæˆçš„æ•°æ®"
}
```

### 3. è·Ÿè¿›è®°å½•æµ‹è¯• (test_followup.py)
**6ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒéªŒè¯å®¢æˆ·è·Ÿè¿›æµç¨‹**

```
âœ… åˆ›å»ºè·Ÿè¿›è®°å½•          - ç”µè¯/æ‹œè®¿/é‚®ä»¶ä¸‰ç§ç±»å‹
âœ… è·å–å®¢æˆ·è·Ÿè¿›åˆ—è¡¨      - æŒ‰å®¢æˆ·ç»´åº¦æŸ¥è¯¢
âœ… è·å–æ‰€æœ‰è·Ÿè¿›è®°å½•      - å…¨å±€æŸ¥è¯¢
âœ… æ›´æ–°è·Ÿè¿›è®°å½•          - ä¿®æ”¹ç±»å‹å’Œç»“æœ
âœ… ç­›é€‰è·Ÿè¿›è®°å½•          - æŒ‰ç±»å‹ç­›é€‰
âœ… åˆ é™¤è·Ÿè¿›è®°å½•          - è®°å½•æ¸…ç†
```

**è·Ÿè¿›è®°å½•å­—æ®µï¼š**
```json
{
  "customerId": 1001,
  "type": "ç”µè¯",        // ç”µè¯/æ‹œè®¿/é‚®ä»¶
  "content": "è®¨è®ºé¡¹ç›®éœ€æ±‚",
  "result": "å·²æˆå•",    // æ„å‘é«˜/å·²æˆå•/å¾…è·Ÿè¿›
  "nextTime": "2025-12-25 14:00:00"
}
```

### 4. ç»Ÿè®¡ä¸æ—¥å¿—æµ‹è¯• (test_stats_logs.py)
**6ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ŒéªŒè¯æ•°æ®ç»Ÿè®¡å’Œæ“ä½œå®¡è®¡**

```
âœ… ä»ªè¡¨ç›˜ç»Ÿè®¡            - æ€»å®¢æˆ·/æ´»è·ƒ/å·²æˆå•/æµå¤±/ä»Šæ—¥æ–°å¢
âœ… ç»Ÿè®¡ API              - é€šç”¨ç»Ÿè®¡æ¥å£
âœ… æ“ä½œæ—¥å¿— (ç®¡ç†å‘˜)     - æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•
âœ… ç™»å½•æ—¥å¿— (ç®¡ç†å‘˜)     - ç™»å½•å†å²/IPè®°å½•
âœ… æ—¥å¿—æƒé™ (æ™®é€šç”¨æˆ·)   - æ•°æ®éš”ç¦»éªŒè¯
âœ… æ—¥å¿—ç­›é€‰              - æŒ‰ç”¨æˆ·å’Œæ—¶é—´ç­›é€‰
```

**ç»Ÿè®¡æ•°æ®æ ·ä¾‹ï¼š**
```
æ€»å®¢æˆ·æ•°: 42
æ´»è·ƒå®¢æˆ·: 28
å·²æˆå•: 12
å·²æµå¤±: 2
ä»Šæ—¥æ–°å¢: 5
```

### 5. å®Œæ•´æµç¨‹æµ‹è¯• (test_complete_flow.py)
**ç«¯åˆ°ç«¯ä¸šåŠ¡åœºæ™¯æµ‹è¯•**

```
åœºæ™¯: æ–°å®¢æˆ·æˆäº¤å®Œæ•´æµç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. ç®¡ç†å‘˜ç™»å½•               âœ“
2. åˆ›å»ºæ½œåœ¨å®¢æˆ·             âœ“
3. é¦–æ¬¡ç”µè¯è·Ÿè¿›             âœ“
4. ä¸€å‘¨åæ‹œè®¿è·Ÿè¿›           âœ“
5. æ›´æ–°å®¢æˆ·çŠ¶æ€ï¼ˆå·²æˆå•ï¼‰    âœ“
6. æŸ¥çœ‹ä¸šåŠ¡ç»Ÿè®¡æŠ¥è¡¨         âœ“
7. æ£€æŸ¥æ“ä½œæ—¥å¿—å®¡è®¡         âœ“
8. æ¸…ç†æµ‹è¯•æ•°æ®             âœ“
```

**ä¸šåŠ¡ä»·å€¼ï¼š**
- éªŒè¯æ¨¡å—é—´æ•°æ®æµè½¬
- ç¡®è®¤çŠ¶æ€ä¸€è‡´æ€§
- æµ‹è¯•æƒé™ä¼ é€’
- éªŒè¯æ•°æ®å®Œæ•´æ€§

---

## ğŸ” æ•…éšœæ’æŸ¥æŒ‡å—

### é—®é¢˜ 1: "åç«¯æœåŠ¡å™¨æœªå¯åŠ¨"
**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ åç«¯æœåŠ¡å™¨æœªå¯åŠ¨æˆ–ä¸åœ¨ http://localhost:8080
è¯·å…ˆå¯åŠ¨åç«¯æœåŠ¡
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# 1. ç¡®è®¤IDEä¸­æœåŠ¡å·²å¯åŠ¨
# æŸ¥çœ‹æ—¥å¿—æ˜¯å¦å‡ºç°:
# "Started XiaozhounanduApplication in X.X seconds"

# 2. æ‰‹åŠ¨éªŒè¯ç«¯å£
lsof -i :8080
# åº”è¯¥æ˜¾ç¤º java è¿›ç¨‹

# 3. æ£€æŸ¥ç«¯å£å“åº”
curl http://localhost:8080/api/init/status

# 4. å¦‚æœç«¯å£å†²çªï¼Œä¿®æ”¹ application.yml
server:
  port: 8081
```

### é—®é¢˜ 2: "æ•°æ®åº“è¿æ¥å¤±è´¥"
**é”™è¯¯ä¿¡æ¯ï¼š**
```
Communications link failure
The last packet sent successfully...
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# 1. ç¡®è®¤MySQLè¿è¡Œ
mysql -u root -p
mysql> SHOW DATABASES;
# åº”æœ‰: xiaozhounandu_v2

# 2. æ£€æŸ¥ application.yml é…ç½®
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/xiaozhounandu_v2?useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: your_password  # ç¡®è®¤å¯†ç æ­£ç¡®

# 3. æµ‹è¯•è¿æ¥
mysql -u root -p xiaozhounandu_v2 -e "SHOW TABLES;"
# åº”æœ‰: user, customer, followup, operation_log ç­‰è¡¨
```

### é—®é¢˜ 3: "æµ‹è¯•å…¨éƒ¨è·³è¿‡æˆ–0ä¸ªæµ‹è¯•"
**é”™è¯¯ä¿¡æ¯ï¼š**
```
æµ‹è¯•æ€»æ•°: 0 | é€šè¿‡: 0 | å¤±è´¥: 0 | æˆåŠŸç‡: nan%
```

**å¯èƒ½åŸå› ï¼š**
```bash
# 1. æœåŠ¡å™¨å¯åŠ¨ä½†è¿”å›ç©ºæ•°æ®
# æ£€æŸ¥åˆå§‹åŒ–è„šæœ¬æ˜¯å¦æ‰§è¡Œ
curl http://localhost:8080/api/init/status
# å¦‚æœ status != "æœåŠ¡æ­£å¸¸è¿è¡Œ"ï¼Œéœ€è¦æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–

# 2. æµ‹è¯•è´¦å·ä¸å­˜åœ¨
# æ£€æŸ¥æ•°æ®åº“ user è¡¨
mysql -u root -p xiaozhounandu_v2 -e "SELECT username, role FROM user;"

# 3. ä¿®å¤æ–¹æ³• - æ‰‹åŠ¨æ’å…¥æµ‹è¯•æ•°æ®
mysql -u root -p xiaozhounandu_v2 <<EOF
INSERT INTO user (username, password, role, status) VALUES
('admin', '\$2a\$10\$abcdef...', 'ADMIN', 1),
('user', '\$2a\$10\$abcdef...', 'USER', 1);
EOF
```

### é—®é¢˜ 4: "Permission denied" (Linux/macOS)
**é”™è¯¯ä¿¡æ¯ï¼š**
```
bash: ./setup.sh: Permission denied
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
chmod +x setup.sh run_tests.sh run_all.sh
```

### é—®é¢˜ 5: "ModuleNotFoundError"
**é”™è¯¯ä¿¡æ¯ï¼š**
```
ModuleNotFoundError: No module named 'requests'
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å®‰è£…ä¾èµ–
pip3 install requests

# æˆ–ä½¿ç”¨ setup.sh è‡ªåŠ¨å®‰è£…
./setup.sh

# éªŒè¯å®‰è£…
python3 -c "import requests; print(requests.__version__)"
```

---

## ğŸ† æˆåŠŸæ ‡å¿—

### âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡æ—¶ï¼š
```
ğŸ“Š æœ€ç»ˆæ±‡æ€»
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
æµ‹è¯•æ€»æ•°: 26
é€šè¿‡: 26
å¤±è´¥: 0
æˆåŠŸç‡: 100.0%

ğŸ‰ æ­å–œï¼æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼
```

### ğŸ“ˆ è´¨é‡æŒ‡æ ‡å‚è€ƒï¼š
- **ä¼˜ç§€**: > 95% é€šè¿‡ç‡
- **è‰¯å¥½**: 80-95% é€šè¿‡ç‡
- **éœ€è¦å…³æ³¨**: < 80% é€šè¿‡ç‡

---

## ğŸ”— ç›¸å…³èµ„æº

### é¡¹ç›®æ–‡ä»¶ï¼š
- `src/main/java/com/xiaozhounandu/XiaozhounanduApplication.java` - å¯åŠ¨ç±»
- `src/main/resources/application.yml` - é…ç½®æ–‡ä»¶
- `src/main/resources/mapper/` - MyBatisæ˜ å°„æ–‡ä»¶
- `database/schema.sql` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥ï¼š
```bash
# å®Œæ•´æµ‹è¯•
./run_all.sh

# å¿«é€Ÿæµ‹è¯•
./run_tests.sh

# å•ä¸ªæ¨¡å—
python3 backend/test_customer.py

# æŸ¥çœ‹æŠ¥å‘Š
cat data/reports/*.md

# æ¸…ç†æŠ¥å‘Š
rm -f data/reports/*.{md,log}

# æ£€æŸ¥æœåŠ¡
curl http://localhost:8080/api/init/status
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥æ—¥å¿—** - æŸ¥çœ‹ `data/reports/` ä¸‹çš„è¯¦ç»†è¾“å‡º
2. **éªŒè¯æœåŠ¡** - ç¡®è®¤åç«¯å’Œæ•°æ®åº“æ­£å¸¸è¿è¡Œ
3. **å•ç‹¬æµ‹è¯•** - å…ˆè¿è¡Œå•ä¸ªæ¨¡å—å®šä½é—®é¢˜èŒƒå›´
4. **æŸ¥çœ‹æŠ¥å‘Š** - å®Œæ•´æµ‹è¯•æŠ¥å‘ŠåŒ…å«æ‰€æœ‰å¤±è´¥åŸå› 

---

**æµ‹è¯•æ¡†æ¶ç‰ˆæœ¬**: V2.0
**åˆ›å»ºæ—¶é—´**: 2025-12-18
**æœ€åæ›´æ–°**: 2025-12-18
**ç»´æŠ¤è€…**: è‡ªåŠ¨åŒ–æµ‹è¯•ç³»ç»Ÿ
